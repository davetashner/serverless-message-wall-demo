{"type":"epic","id":"EPIC-1","title":"Bootstrap Kubernetes actuator and Crossplane","intent":"Prepare a Kubernetes cluster that acts only as an infrastructure actuator using Crossplane controllers.","principles":["Kubernetes is actuator only","No application runtime in Kubernetes"]}
{"type":"issue","epic":"EPIC-1","id":"ISSUE-1.1","title":"Create local actuator cluster","description":"Provision a local Kubernetes cluster (kind) for running Crossplane.","acceptance":["Cluster reachable via kubectl","Idempotent bootstrap script exists"]}
{"type":"issue","epic":"EPIC-1","id":"ISSUE-1.2","title":"Install Crossplane","description":"Install Crossplane into the actuator cluster.","acceptance":["Crossplane pods running","Installation is idempotent"]}
{"type":"issue","epic":"EPIC-1","id":"ISSUE-1.3","title":"Install AWS Crossplane provider","description":"Install AWS provider and ProviderConfig using static credentials.","acceptance":["AWS provider healthy","ProviderConfig references Kubernetes Secret","Able to create test AWS resource"]}

{"type":"epic","id":"EPIC-2","title":"Define core AWS infrastructure resources","intent":"Provision the AWS resources required to run the serverless application using Crossplane-managed resources."}
{"type":"issue","epic":"EPIC-2","id":"ISSUE-2.1","title":"Create S3 bucket for static site and state","description":"Provision an S3 bucket for hosting static web assets and generated state.json.","acceptance":["Bucket exists","Public access configured for static site","Bucket supports state.json writes"]}
{"type":"issue","epic":"EPIC-2","id":"ISSUE-2.2","title":"Create DynamoDB table","description":"Provision DynamoDB table to store visitor count and messages.","acceptance":["Table exists","Partition and sort keys defined","Table accessible from Lambda"]}
{"type":"issue","epic":"EPIC-2","id":"ISSUE-2.3","title":"Create IAM roles and policies","description":"Define least-privilege IAM roles and policies for Lambda functions.","acceptance":["Separate roles per Lambda","Policies grant only required S3, DynamoDB, EventBridge, and logging permissions"]}

{"type":"epic","id":"EPIC-3","title":"Implement Lambda functions","intent":"Create minimal Lambda functions that implement the application behavior."}
{"type":"issue","epic":"EPIC-3","id":"ISSUE-3.1","title":"Implement api-handler Lambda","description":"Create Lambda that handles browser requests, updates DynamoDB, and emits EventBridge events.","acceptance":["POST increments visitor count","POST stores message","EventBridge event emitted","Logs visible in CloudWatch"]}
{"type":"issue","epic":"EPIC-3","id":"ISSUE-3.2","title":"Implement snapshot-writer Lambda","description":"Create Lambda that generates state.json from DynamoDB and writes it to S3.","acceptance":["Reads latest data from DynamoDB","Writes valid JSON to S3","Overwrites previous snapshot safely"]}
{"type":"issue","epic":"EPIC-3","id":"ISSUE-3.3","title":"Package Lambda artifacts","description":"Produce deterministic ZIP artifacts for both Lambdas.","acceptance":["Repeatable build scripts exist","Artifacts referenced by Crossplane manifests"]}

{"type":"epic","id":"EPIC-4","title":"Wire event-driven flow","intent":"Connect AWS services so changes propagate via events, not direct coupling."}
{"type":"issue","epic":"EPIC-4","id":"ISSUE-4.1","title":"Expose api-handler via Lambda Function URL","description":"Create a Lambda Function URL to accept browser requests.","acceptance":["URL reachable from browser","CORS configured","POST requests invoke Lambda"]}
{"type":"issue","epic":"EPIC-4","id":"ISSUE-4.2","title":"Create EventBridge rule for snapshot updates","description":"Trigger snapshot-writer Lambda on api-handler events.","acceptance":["Rule matches emitted events","snapshot-writer invoked successfully"]}

{"type":"epic","id":"EPIC-5","title":"Create browser-based UI","intent":"Provide a simple browser experience that makes the application easy to reason about."}
{"type":"issue","epic":"EPIC-5","id":"ISSUE-5.1","title":"Create static HTML page","description":"Create index.html for displaying visitor count and messages.","acceptance":["Page loads from S3","UI shows count and messages"]}
{"type":"issue","epic":"EPIC-5","id":"ISSUE-5.2","title":"Implement browser-side JavaScript","description":"Fetch state.json and POST messages to Lambda Function URL.","acceptance":["Fetch renders state correctly","Posting a message updates UI on refresh"]}

{"type":"epic","id":"EPIC-6","title":"Demo scripts and verification","intent":"Make the demo easy to deploy, verify, and clean up."}
{"type":"issue","epic":"EPIC-6","id":"ISSUE-6.1","title":"Create deployment script","description":"Script that applies all Crossplane resources for a dev environment.","acceptance":["Single command deploys full stack","Script is idempotent"]}
{"type":"issue","epic":"EPIC-6","id":"ISSUE-6.2","title":"Create smoke test","description":"Script that posts a message and verifies DynamoDB and S3 state.","acceptance":["Script detects successful end-to-end flow"]}
{"type":"issue","epic":"EPIC-6","id":"ISSUE-6.3","title":"Create cleanup script","description":"Script that tears down all managed resources.","acceptance":["Resources deleted safely","Repeated runs succeed without error"]}

{"type":"epic","id":"EPIC-7","title":"Prepare for platform extensions","intent":"Lay groundwork for future demos involving ConfigHub, bulk changes, and policy enforcement."}
{"type":"issue","epic":"EPIC-7","id":"ISSUE-7.1","title":"Document bulk change scenarios","description":"Describe how Lambda memory/timeouts could be changed across environments.","acceptance":["README includes bulk-change walkthrough"]}
{"type":"issue","epic":"EPIC-7","id":"ISSUE-7.2","title":"Document ConfigHub integration points","description":"Identify where ConfigHub could manage and mutate resolved configuration.","acceptance":["Clear narrative for ConfigHub + Crossplane demo"]}

{"type":"epic","id":"EPIC-8","title":"Integrate ConfigHub as configuration control plane","intent":"Introduce ConfigHub to manage resolved configuration, enforce policy, and enable safe bulk operations without changing application runtime or actuator model.","principles":["ConfigHub is authoritative for resolved config","Git remains authoring surface","Crossplane remains actuator","No app code changes required"]}
{"type":"issue","epic":"EPIC-8","id":"ISSUE-8.1","title":"Define ConfigHub spaces and units for the demo","description":"Create ConfigHub spaces and initial units representing the serverless application infrastructure.","acceptance":["ConfigHub space exists for demo","Units correspond to Lambda, DynamoDB, S3, EventBridge resources","Units are environment-scoped (e.g., dev)"]}
{"type":"issue","epic":"EPIC-8","id":"ISSUE-8.2","title":"Import rendered infrastructure config into ConfigHub","description":"Establish a pipeline step that publishes fully-resolved Crossplane-managed configuration into ConfigHub.","acceptance":["Rendered config is imported into ConfigHub","No placeholders remain","ConfigHub holds authoritative resolved config"]}
{"type":"issue","epic":"EPIC-8","id":"ISSUE-8.3","title":"Attach policy checks to ConfigHub units","description":"Define and apply policy checks (OPA or ConfigHub functions) to enforce basic guardrails.","acceptance":["Policy blocks overly permissive IAM policies","Policy enforces minimum Lambda timeout/memory","Policy runs before apply"]}
{"type":"issue","epic":"EPIC-8","id":"ISSUE-8.4","title":"Wire ConfigHub apply flow to Crossplane actuator","description":"Configure a delivery mechanism so approved ConfigHub units are applied to the actuator cluster.","acceptance":["ConfigHub-approved config is applied via Crossplane","No direct kubectl apply from CI","Status is observable"]}
{"type":"issue","epic":"EPIC-8","id":"ISSUE-8.5","title":"Demonstrate bulk configuration change via ConfigHub","description":"Use a ConfigHub function to update configuration across multiple resources in one operation.","acceptance":["Single operation updates both Lambda functions","Change reflected in AWS","Change visible as a single ConfigHub revision"]}
{"type":"issue","epic":"EPIC-8","id":"ISSUE-8.6","title":"Prevent CI from overwriting ConfigHub-managed changes","description":"Establish ownership and concurrency rules to avoid clobbering ConfigHub-side edits.","acceptance":["CI detects drift and fails safely","ConfigHub revisions are not overwritten by re-import","Ownership model documented"]}
{"type":"issue","epic":"EPIC-8","id":"ISSUE-8.7","title":"Demonstrate break-glass recovery and reconciliation","description":"Show how a direct AWS-side change can be reconciled back into ConfigHub after recovery.","acceptance":["Emergency change captured","ConfigHub reconciles new state","Audit trail preserved"]}
{"type":"issue","epic":"EPIC-8","id":"ISSUE-8.8","title":"Document ConfigHub + Crossplane demo narrative","description":"Create a clear walkthrough explaining how ConfigHub, Crossplane, and AWS interact in the demo.","acceptance":["README explains control flow","Demo highlights risk reduction and operability gains","Narrative is understandable without prior ConfigHub knowledge"]}
